(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function n(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}var r=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.smoother=null,this.breakpoint=768,this.resizeTimeout=null},(n=[{key:"init",value:function(){if("undefined"!=typeof gsap&&"undefined"!=typeof ScrollSmoother){try{gsap.registerPlugin(ScrollSmoother)}catch(e){return}this.initSmoother(),this.handleResize()}}},{key:"initSmoother",value:function(){if(!(window.innerWidth<this.breakpoint)){var e=document.getElementById("smooth-wrapper"),t=document.getElementById("smooth-content");if(e&&t)try{this.smoother=ScrollSmoother.create({wrapper:e,content:t,smooth:1,effects:!0,smoothTouch:!1,normalizeScroll:!0,ignoreMobileResize:!0})}catch(e){}}}},{key:"handleResize",value:function(){var e=this;window.addEventListener("resize",(function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){window.innerWidth>=e.breakpoint?e.smoother||e.initSmoother():e.smoother&&(e.smoother.kill(),e.smoother=null)}),250)}))}},{key:"refresh",value:function(){this.smoother&&this.smoother.refresh()}},{key:"getSmoother",value:function(){return this.smoother}}])&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}());function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var s=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentPage=null},(t=[{key:"init",value:function(){return this.detectCurrentPage(),this.currentPage}},{key:"detectCurrentPage",value:function(){var e=document.body;return e&&e.dataset.page?this.currentPage=e.dataset.page:(this.currentPage="unknown",console.warn('No data-page attribute found on body element. Add data-page="pagename" to the body tag in Webflow.')),this.currentPage}},{key:"isPage",value:function(e){return this.currentPage||this.detectCurrentPage(),this.currentPage===e}},{key:"isOneOfPages",value:function(e){return this.currentPage||this.detectCurrentPage(),e.includes(this.currentPage)}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var f=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1},(t=[{key:"init",value:function(){if("undefined"!=typeof gsap&&"undefined"!=typeof SplitText&&"undefined"!=typeof ScrollTrigger){try{gsap.registerPlugin(ScrollTrigger,SplitText)}catch(e){return void console.warn("Error registering GSAP plugins:",e)}this.initGlobalAnimations(),this.initialized=!0}else console.warn("GSAP, SplitText or ScrollTrigger not found. Text animations require these libraries.")}},{key:"refresh",value:function(){this.initialized&&this.initGlobalAnimations()}},{key:"initGlobalAnimations",value:function(){document.querySelectorAll('[data-gsap="text"]').forEach((function(e){if(gsap.set(e,{visibility:"visible"}),!e.split){e.split=new SplitText(e,{type:"words,chars",charsClass:"char",wordsClass:"word"});var t=e.dataset.delay?parseFloat(e.dataset.delay):0;gsap.from(e.split.chars,{opacity:0,filter:"blur(5px)",duration:1,delay:t,ease:"power3.out",stagger:.05,scrollTrigger:{trigger:e,start:"top 85%"}})}})),document.querySelectorAll('[data-gsap="fade-up"]').forEach((function(e){var t=e.dataset.delay?parseFloat(e.dataset.delay):0;gsap.fromTo(e,{y:"4rem",autoAlpha:0},{y:"0rem",autoAlpha:1,visibility:"visible",duration:1.2,delay:t,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 85%"}})}))}}])&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var h=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1},(t=[{key:"init",value:function(){"undefined"!=typeof gsap&&"undefined"!=typeof SplitText?(this.initButtonAnimations(),this.initialized=!0):console.warn("GSAP or SplitText not found. Button animations require these libraries.")}},{key:"refresh",value:function(){this.initialized&&this.initButtonAnimations()}},{key:"initButtonAnimations",value:function(){var e=this,t=document.querySelectorAll('[data-gsap="btn"]');0!==t.length&&t.forEach((function(t,n){var r=t.querySelector(".btn-text");if(r){var i=new SplitText(r,{type:"chars"}),o=r.cloneNode(!0);t.appendChild(o);var a=new SplitText(o,{type:"chars"}),s=i.chars,l=a.chars;gsap.set(o,{position:"absolute"}),gsap.set(l,{y:"100%"}),t.addEventListener("mouseenter",(function(){e.animateChars(s,"-100%"),e.animateChars(l,"0%")})),t.addEventListener("mouseleave",(function(){e.animateChars(s,"0%"),e.animateChars(l,"100%")}))}else console.warn('Element with class "btn-text" not found inside button '.concat(n+1))}))}},{key:"animateChars",value:function(e,t){gsap.to(e,{y:t,duration:.35,ease:"power1.inOut",stagger:.02})}}])&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}var b=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1,this.menuTimelines=[]},t=[{key:"init",value:function(){if("undefined"!=typeof gsap&&"undefined"!=typeof Flip&&"undefined"!=typeof jQuery){try{gsap.registerPlugin(Flip)}catch(e){return void console.warn("Error registering Flip plugin:",e)}this.initMenuAnimations(),this.initialized=!0}else console.warn("GSAP, Flip plugin, or jQuery not found. Menu animations require these libraries.")}},{key:"refresh",value:function(){this.initialized&&(this.menuTimelines.forEach((function(e){return e.kill()})),this.menuTimelines=[],this.initMenuAnimations())}},{key:"initMenuAnimations",value:function(){var e=this;jQuery(".nav_component").each((function(t,n){var r=jQuery(n).find(".nav_hamburger_wrap"),i=jQuery(n).find(".nav_hamburger_line"),o=jQuery(n).find(".menu_contain"),a=jQuery(n).find(".nav_hamburger_base"),s=jQuery(n).find(".menu_wrap"),l=jQuery(n).find(".menu_base"),u=jQuery(n).find(".menu_link"),c=.35,f=function(e){var t=Flip.getState(a);e?a.appendTo(o):a.appendTo(r),Flip.from(t,{duration:c})},p=gsap.timeline({paused:!0});p.set(s,{display:"flex"}),p.from(l,{opacity:0,duration:c,ease:"none",onStart:function(){f(!0)}}),p.to(a,{backgroundColor:"#1e1e1e",duration:c},"<"),p.to(i,{backgroundColor:"#FFFFFF",duration:c},"<"),p.to(i.eq(0),{y:8,rotate:45,duration:c},"<"),p.to(i.eq(2),{y:-8,rotate:-45,duration:c},"<"),p.to(i.eq(1),{opacity:0,duration:.1},"<"),p.from(u,{opacity:0,yPercent:50,duration:.2,stagger:{amount:.2},onReverseComplete:function(){f(!1),a.css("background-color","transparent"),i.css("background-color","")}}),e.menuTimelines.push(p);var m=function(e){p.isActive()||(e?(p.play(),r.addClass("nav-open")):(p.reverse(),r.removeClass("nav-open")))};r.on("mouseenter",(function(){jQuery(this).hasClass("nav-open")||m(!0)})),r.on("click",(function(){jQuery(this).hasClass("nav-open")?m(!1):m(!0)})),l.on("mouseenter",(function(){m(!1)})),l.on("click",(function(){m(!1)})),jQuery(document).on("keydown",(function(e){"Escape"===e.key&&m(!1)}))}))}}],t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function E(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}var T=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.simulationActive=!1,this.currentEngine=null,this.currentRender=null,this.currentRunner=null,this.lastWidth=0,this.lastHeight=0,this.resizeTimeout=null,this.isScrolling=!1},t=[{key:"init",value:function(){var e=this;if("undefined"!=typeof Matter){var t=document.querySelector(".tag-canvas");if(t){var n=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&(e.initSimulation(!0),n.disconnect())}))}));n.observe(t)}this.bindEvents()}else console.warn("Matter.js library is required for falling logos")}},{key:"destroySimulation",value:function(){this.simulationActive&&(this.currentRender&&Matter.Render.stop(this.currentRender),this.currentRunner&&Matter.Runner.stop(this.currentRunner),this.currentEngine&&Matter.World.clear(this.currentEngine.world),this.currentRender&&this.currentRender.canvas&&this.currentRender.canvas.remove(),this.simulationActive=!1)}},{key:"isVisible",value:function(e){var t=window.getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility}},{key:"initSimulation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=document.querySelector(".tag-canvas");if(n){var r=n.clientWidth+2,i=n.clientHeight+2;if(!(this.simulationActive&&!t&&Math.abs(r-this.lastWidth)<5&&Math.abs(i-this.lastHeight)<5)){this.destroySimulation();var o=Matter.Engine,a=Matter.Render,s=Matter.Events,l=Matter.MouseConstraint,u=Matter.Mouse,c=Matter.World,f=Matter.Bodies,p=o.create();p.world.gravity.y=1;var m=p.world;this.currentEngine=p;var d=a.create({element:n,engine:p,options:{width:r,height:i,pixelRatio:2,background:"transparent",border:"none",wireframes:!1}});this.currentRender=d;var h=f.rectangle(r/2+160,i+80,r+320,160,{render:{fillStyle:"#EEEFF2"},isStatic:!0}),y=f.rectangle(-80,i/2,160,i,{isStatic:!0}),g=f.rectangle(r+80,i/2,160,1200,{isStatic:!0}),v=f.rectangle(r/2+160,-80,r+320,160,{isStatic:!0});c.add(p.world,[h,y,g,v]);var b=document.querySelector(".tags-source-container"),S=(b?Array.from(b.querySelectorAll("img")):[]).filter((function(t){return e.isVisible(t)})).map((function(e){return{x:Math.random()*(r-100)+50,y:200*Math.random()-100,width:e.dataset.width?parseInt(e.dataset.width):164,height:e.dataset.height?parseInt(e.dataset.height):56,texture:e.src,xScale:e.dataset.scale?parseFloat(e.dataset.scale):1,yScale:e.dataset.scale?parseFloat(e.dataset.scale):1,url:e.dataset.url||null}})).map((function(e){return f.rectangle(e.x,e.y,e.width,e.height,{chamfer:{radius:20},render:{sprite:{texture:e.texture,xScale:e.xScale,yScale:e.yScale}},url:e.url,frictionAir:.01,restitution:.6,density:.01})}));c.add(p.world,w(S));var j=u.create(d.canvas),k=l.create(p,{mouse:j,constraint:{stiffness:.2,render:{visible:!1}}});c.add(m,k),d.mouse=j,j.element.removeEventListener("mousewheel",j.mousewheel),j.element.removeEventListener("DOMMouseScroll",j.mousewheel);var E=!1;document.addEventListener("mousedown",(function(){return E=!0})),document.addEventListener("mousemove",(function(){return E=!1})),s.on(k,"mouseup",(function(e){var t=e.source,n=p.world.bodies;if(!t.bodyB&&E)for(var r=0;r<n.length;r++){var i=n[r];if(Matter.Bounds.contains(i.bounds,t.mouse.position)){var o=i.url;o&&window.open(o,"_blank");break}}}));var T=Matter.Runner,P=T.create();this.currentRunner=P,T.run(P,p),a.run(d),this.simulationActive=!0,this.lastWidth=r,this.lastHeight=i}}}},{key:"bindEvents",value:function(){var e=this;window.addEventListener("resize",(function(){e.isScrolling||e.handleResize()})),window.addEventListener("scroll",(function(){e.isScrolling=!0,clearTimeout(e.resizeTimeout),setTimeout((function(){return e.isScrolling=!1}),100)}))}},{key:"handleResize",value:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){document.querySelector(".tag-canvas")&&e.initSimulation()}),250)}}],t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function x(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}var I=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1,this.elements={nextButton:null,prevButton:null,submitWrapper:null,step1:null,step2:null,nameInput:null,emailInput:null,messageTextarea:null,stepNumberSpan:null}},t=[{key:"init",value:function(){"contacts"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).currentPage&&("undefined"!=typeof gsap?(this.cacheElements(),this.elements.step1&&this.elements.nameInput?(this.setupForm(),this.bindEvents(),this.initialized=!0):console.warn("Form step elements not found. Make sure the form structure is correct.")):console.warn("GSAP not found. Form steps animations require this library."))}},{key:"cacheElements",value:function(){this.elements={nextButton:document.querySelector(".next-button"),prevButton:document.querySelector(".prev-button"),submitWrapper:document.querySelector(".submit-wrapper"),step1:document.getElementById("step1"),step2:document.getElementById("step2"),nameInput:document.getElementById("Name"),emailInput:document.getElementById("Email"),messageTextarea:document.getElementById("Message"),stepNumberSpan:document.querySelector(".step-number")}}},{key:"setupForm",value:function(){var e=this.elements,t=e.step1,n=e.step2,r=e.nextButton,i=e.prevButton,o=e.submitWrapper,a=e.nameInput,s=e.emailInput,l=e.stepNumberSpan;gsap.set(t,{autoAlpha:1,display:"block"}),gsap.set(n,{autoAlpha:0,display:"block"}),gsap.set(r,{autoAlpha:1}),gsap.set(i,{autoAlpha:0}),gsap.set(o,{autoAlpha:0}),l&&(l.textContent="1"),a&&a.setAttribute("required",""),s&&s.setAttribute("required","")}},{key:"getAccurateRect",value:function(e){return e.getBoundingClientRect()}},{key:"createMorphClone",value:function(e){var t=document.createElement("div");return t.id="morph-clone",t.style.position="fixed",t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.backgroundColor="#1E1E1E",t.style.border="1px solid transparent",t.style.borderRadius="16px",t.style.zIndex="9999",document.body.appendChild(t),t}},{key:"updateUIForStep",value:function(e){var t=this.elements,n=t.nextButton,r=t.prevButton,i=t.submitWrapper,o=t.stepNumberSpan,a=gsap.timeline();return e?(a.to(n,{autoAlpha:0,duration:.3}).to(r,{autoAlpha:1,duration:.3},"-=0.2").to(i,{autoAlpha:1,duration:.3},"-=0.2"),o&&a.to(o,{opacity:0,duration:.1,onComplete:function(){o.textContent="2",gsap.to(o,{opacity:1,duration:.2})}},"-=0.1")):(a.to(r,{autoAlpha:0,duration:.3}).to(i,{autoAlpha:0,duration:.3},"-=0.3").to(n,{autoAlpha:1,duration:.3},"-=0.2"),o&&a.to(o,{opacity:0,duration:.1,onComplete:function(){o.textContent="1",gsap.to(o,{opacity:1,duration:.2})}},"-=0.1")),a}},{key:"validateStep1Fields",value:function(){var e=this.elements,t=e.nameInput,n=e.emailInput,r=!0;return t&&!t.checkValidity()?(t.reportValidity(),r=!1):n&&!n.checkValidity()?(n.reportValidity(),r=!1):r}},{key:"bindEvents",value:function(){var e=this,t=this.elements,n=t.nextButton,r=t.prevButton,i=t.step1,o=t.step2,a=t.nameInput,s=t.messageTextarea;n&&n.addEventListener("click",(function(t){if(e.validateStep1Fields()){var n=e.getAccurateRect(a),r=e.getAccurateRect(s),l=e.createMorphClone(n);gsap.timeline().to(i,{autoAlpha:0,duration:.1}).to(l,{top:r.top,left:r.left,width:r.width,height:r.height,duration:.5,ease:"power1.inOut"},"-=0.1").to(o,{autoAlpha:1,duration:.1},"-=0.1").add((function(){l.remove(),s.focus(),e.updateUIForStep(!0)}))}})),r&&r.addEventListener("click",(function(){var t=e.getAccurateRect(s),n=e.getAccurateRect(a),r=e.createMorphClone(t);gsap.timeline().to(o,{autoAlpha:0,duration:.1}).to(r,{top:n.top,left:n.left,width:n.width,height:n.height,duration:.7,ease:"power2.inOut"},"-=0.1").to(i,{autoAlpha:1,duration:.2},"-=0.1").add((function(){r.remove(),a.focus(),e.updateUIForStep(!1)}))}))}},{key:"refresh",value:function(){this.initialized&&(this.cacheElements(),this.setupForm())}}],t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e,t){if("object"!=z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z(t)?t:t+""}var M=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isGridView=!1,this.itemsPerBatch=4,this.currentBatch=1,this.desktopBreakpoint="(min-width: 992px)",this.elements={gridBtn:null,listBtn:null,collectionList:null,projectItems:null},this.selectors=[".projects_collection-list",".project_item",".project_tag-wrapper",".project_slogan",".project_expand-inner",".project_thumb",".project_descr",".project_top",".project_name",".project_industry",".project_expand"],this.initialized=!1,this.scrollTriggerInstance=null},t=[{key:"init",value:function(){if("projects"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).currentPage)if("undefined"!=typeof gsap&&"undefined"!=typeof Flip&&"undefined"!=typeof ScrollTrigger){try{gsap.registerPlugin(Flip,ScrollTrigger)}catch(e){return void console.warn("Error registering GSAP plugins:",e)}this.cacheElements(),this.elements.gridBtn&&this.elements.listBtn&&this.elements.collectionList?(this.setupHoverEffects(),this.setupViewToggle(),this.setupInfiniteScroll(),this.bindEvents(),this.elements.listBtn.classList.add("is-active"),this.initialized=!0):console.warn("Project grid elements not found. Make sure the grid/list buttons and collection exist.")}else console.warn("GSAP, Flip, or ScrollTrigger not found. Project grid requires these libraries.")}},{key:"cacheElements",value:function(){this.elements={gridBtn:document.getElementById("grid-btn"),listBtn:document.getElementById("list-btn"),collectionList:document.querySelector(".projects_collection-list"),projectItems:document.querySelectorAll(".project_item")}}},{key:"isDesktop",value:function(){return window.matchMedia(this.desktopBreakpoint).matches}},{key:"setupHoverEffects",value:function(){var e=this;this.elements.projectItems.forEach((function(t){var n=t.querySelector(".project_expand"),r=t.querySelector(".project_info");n&&(gsap.set(n,{height:0}),r&&gsap.set(r,{opacity:1,display:"block"}),t.addEventListener("mouseenter",(function(){e.isGridView||gsap.to(n,{height:"auto",duration:.75,ease:"power1.out",overwrite:!0})})),t.addEventListener("mouseleave",(function(){e.isGridView||gsap.to(n,{height:0,duration:.75,ease:"power1.in",overwrite:!0})})))}))}},{key:"setupViewToggle",value:function(){var e=this;this.elements.gridBtn&&this.elements.gridBtn.addEventListener("click",(function(){return e.switchView(!0)})),this.elements.listBtn&&this.elements.listBtn.addEventListener("click",(function(){return e.switchView(!1)}))}},{key:"switchView",value:function(e){var t=this;if(e!==this.isGridView){gsap.killTweensOf([".project_expand",".project_info"]);var n=Flip.getState(this.selectors.join(", "));this.selectors.forEach((function(t){document.querySelectorAll(t).forEach((function(t){t.classList.toggle("is-grid",e)}))})),this.isGridView=e,this.elements.gridBtn.classList.toggle("is-active",e),this.elements.listBtn.classList.toggle("is-active",!e),this.elements.projectItems.forEach((function(t){var n=t.querySelector(".project_expand"),r=t.querySelector(".project_info");gsap.set(n,{height:e?"auto":0,overwrite:!0}),r&&gsap.set(r,{opacity:1,display:"block"})})),Flip.from(n,{duration:.35,ease:"power1.out",nested:!0,prune:!0,onEnter:function(t){return e&&gsap.fromTo(t,{opacity:0,scale:.8},{opacity:1,scale:1,duration:.5})},onLeave:function(t){return!e&&gsap.to(t,{opacity:0,scale:.8,duration:.5})},onComplete:function(){return t.refreshItemStates()}}),setTimeout((function(){return t.setupInfiniteScroll()}),400)}}},{key:"setupInfiniteScroll",value:function(){var e=this;this.scrollTriggerInstance&&(this.scrollTriggerInstance.kill(),this.scrollTriggerInstance=null);var t=this.elements.projectItems.length,n=Math.ceil(t/this.itemsPerBatch);if(!(t<=this.itemsPerBatch||(this.elements.projectItems.forEach((function(t,n){n>=e.currentBatch*e.itemsPerBatch?gsap.set(t,{display:"none",autoAlpha:0}):(gsap.set(t,{display:"",autoAlpha:1}),e.refreshItemHoverState(t))})),this.currentBatch>=n))){var r=Math.min(this.currentBatch*this.itemsPerBatch-1,t-1),i=this.elements.projectItems[r];this.scrollTriggerInstance=ScrollTrigger.create({id:"infinite-scroll",trigger:i,start:"bottom 85%",onEnter:function(){return e.loadMoreItems(n)},markers:!1})}}},{key:"loadMoreItems",value:function(e){var t=this;if(this.scrollTriggerInstance&&(this.scrollTriggerInstance.kill(),this.scrollTriggerInstance=null),!(this.currentBatch>=e)){this.currentBatch++;for(var n=(this.currentBatch-1)*this.itemsPerBatch,r=Math.min(n+this.itemsPerBatch,this.elements.projectItems.length),i=0,o=function(){var e=t.elements.projectItems[a];if(!e)return 1;gsap.set(e,{display:""}),gsap.fromTo(e,{y:"4rem",autoAlpha:0},{y:"0rem",autoAlpha:1,visibility:"visible",duration:1.2,delay:i,ease:"power3.out",onComplete:function(){return t.refreshItemHoverState(e)}}),i+=.15},a=n;a<r;a++)o();this.currentBatch<e&&setTimeout((function(){return t.setupInfiniteScroll()}),500)}}},{key:"refreshItemHoverState",value:function(e){var t=e.querySelector(".project_expand"),n=e.querySelector(".project_info");t&&gsap.set(t,{height:this.isGridView?"auto":0}),n&&gsap.set(n,{opacity:1,display:"block"})}},{key:"refreshItemStates",value:function(){var e=this;this.elements.projectItems.forEach((function(t){e.refreshItemHoverState(t)}))}},{key:"bindEvents",value:function(){var e,t=this;window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){t.cacheElements(),t.setupInfiniteScroll(),t.refreshItemStates()}),250)}))}},{key:"refresh",value:function(){this.initialized&&(this.cacheElements(),this.setupInfiniteScroll(),this.refreshItemStates())}}],t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),q=new M;function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}function R(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}var L=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1},t=[{key:"init",value:function(){"project-details"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).currentPage&&(this.setupNextProjectNavigation(),this.initialized=!0)}},{key:"setupNextProjectNavigation",value:function(){var e=document.querySelector(".order-number");if(e){var t=parseInt(e.textContent.trim()),n=Array.from(document.querySelectorAll(".projects_collection .projects_collection-list .projects_collection-item"));if(0!==n.length){var r=[],i=[];n.forEach((function(e){var t=e.querySelector(".order-number");if(t){var n=parseInt(t.textContent.trim());99999!==n&&(r.push(e),i.push(n))}})),i.sort((function(e,t){return e-t}));var o,a=Math.max.apply(Math,i);o=t===a?Math.min.apply(Math,i):i.find((function(e){return e>t})),n.forEach((function(e){e.style.display="none"}));var s=!1;r.forEach((function(e){var t=e.querySelector(".order-number");t&&parseInt(t.textContent.trim())===o&&(e.style.display="block",s=!0)}));var l=document.querySelector(".projects_collection .projects_collection-list"),u=document.querySelector(".projects_collection");l&&u&&(l.style.display="block",u.style.display="block"),s||console.warn("Next project navigation: could not find next project with order number",o)}else console.warn("Next project navigation: projects collection not found")}else console.warn("Next project navigation: order-number element not found")}},{key:"refresh",value:function(){this.initialized&&this.setupNextProjectNavigation()}}],t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G(r.key),r)}}function G(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}var V,H=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scrollTrigger=null,this.initialized=!1},t=[{key:"init",value:function(){var e=this;if("home"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).currentPage)if("undefined"!=typeof gsap&&"undefined"!=typeof ScrollTrigger)try{gsap.registerPlugin(ScrollTrigger),window.addEventListener("load",(function(){e.initHomeHorizontalScroll(),e.initialized=!0,window.addEventListener("resize",e.handleResize.bind(e))}))}catch(e){console.error("Error initializing home horizontal scroll:",e)}else console.warn("GSAP or ScrollTrigger not found. Home scroll requires these libraries.")}},{key:"initHomeHorizontalScroll",value:function(){this.scrollTrigger&&(this.scrollTrigger.kill(),this.scrollTrigger=null);var e=document.querySelector(".track"),t=document.querySelector(".recent_slider"),n=document.querySelector(".sticky-screen"),r=document.querySelector(".section-horizontal");if(e&&t&&n&&r){var i=function(){var n=e.scrollWidth,r=t.offsetWidth;return Math.max(0,n-r)},o=gsap.timeline({scrollTrigger:{trigger:r,start:"top top",end:function(){return"+=".concat(i())},pin:n,anticipatePin:1,scrub:1,invalidateOnRefresh:!0}});o.to(e,{x:function(){return-i()},ease:"none"}),this.scrollTrigger=o.scrollTrigger}else console.warn("Required elements not found for home scroll")}},{key:"handleResize",value:function(){var e=this;this.initialized&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){e.refresh()}),250))}},{key:"refresh",value:function(){this.initialized&&this.scrollTrigger&&this.scrollTrigger.refresh()}},{key:"cleanup",value:function(){this.scrollTrigger&&(this.scrollTrigger.kill(),this.scrollTrigger=null);var e=document.querySelector(".track");e&&gsap.set(e,{clearProps:"all"}),window.removeEventListener("resize",this.handleResize.bind(this)),this.initialized=!1}}],t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());function W(){if(void 0!==window.gsap){try{void 0!==window.ScrollTrigger&&void 0!==window.ScrollSmoother&&void 0!==window.Flip&&gsap.registerPlugin(ScrollTrigger,ScrollSmoother,Flip)}catch(e){console.warn("Error registering GSAP plugins:",e)}var e="unknown";try{e=s.init()}catch(e){console.warn("Error initializing page detector:",e)}try{r.init()}catch(e){console.warn("Error initializing smooth scroll:",e)}try{f.init()}catch(e){console.warn("Error initializing animations:",e)}try{b.init()}catch(e){console.warn("Error initializing menu animations:",e)}try{h.init()}catch(e){console.warn("Error initializing button animations:",e)}if("home"===e){try{T.init({currentPage:e})}catch(e){console.warn("Error initializing falling logos:",e)}try{H.init({currentPage:e})}catch(e){console.warn("Error initializing home scroll:",e)}}if("contacts"===e)try{I.init({currentPage:e})}catch(e){console.warn("Error initializing form steps:",e)}if("projects"===e)try{q.init({currentPage:e})}catch(e){console.warn("Error initializing project grid:",e)}if("project-details"===e)try{L.init({currentPage:e})}catch(e){console.warn("Error initializing next project navigation:",e)}setTimeout((function(){"undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh()}),300),window.siteModules={smoothScroll:r,pageDetector:s,animations:f,buttonAnimations:h,menuAnimations:b,fallingLogos:T,formSteps:I,projectGrid:q,nextProject:L,homeScroll:H}}else console.warn("GSAP not found. Many animations will not work.")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",W):W(),window.addEventListener("resize",(function(){clearTimeout(V),V=setTimeout((function(){f.refresh(),h.refresh(),b.refresh(),s.isPage("home")&&H.refresh(),s.isPage("contacts")&&I.refresh(),s.isPage("projects")&&q.refresh(),s.isPage("project-details")&&L.refresh(),"undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh()}),250)})),window.siteModules={smoothScroll:r,pageDetector:s,animations:f,buttonAnimations:h,menuAnimations:b,fallingLogos:T,formSteps:I,projectGrid:q,nextProject:L,homeScroll:H}})();